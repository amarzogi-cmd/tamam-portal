{
  "query": "\nSET @admin_id = (SELECT id FROM users WHERE role = 'admin' OR role = 'system_admin' OR role = 'super_admin' ORDER BY createdAt ASC LIMIT 1);\n\nDELETE FROM user_roles WHERE user_id != @admin_id;\nDELETE FROM user_permissions WHERE user_id != @admin_id;\nDELETE FROM password_reset_tokens WHERE userId != @admin_id;\nDELETE FROM employees WHERE userId != @admin_id;\nDELETE FROM users WHERE id != @admin_id;\n\nUPDATE contract_number_sequence SET lastNumber = 0;\nUPDATE project_number_sequence SET lastNumber = 0;\nUPDATE request_number_sequence SET lastNumber = 0;\n\nSELECT id, name, email, role FROM users;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 47svcMedBpAqYJW.4862cbe35d00 --database 6TUn3HPSK4hJ6Fxv2aR83j --execute \nSET @admin_id = (SELECT id FROM users WHERE role = 'admin' OR role = 'system_admin' OR role = 'super_admin' ORDER BY createdAt ASC LIMIT 1);\n\nDELETE FROM user_roles WHERE user_id != @admin_id;\nDELETE FROM user_permissions WHERE user_id != @admin_id;\nDELETE FROM password_reset_tokens WHERE userId != @admin_id;\nDELETE FROM employees WHERE userId != @admin_id;\nDELETE FROM users WHERE id != @admin_id;\n\nUPDATE contract_number_sequence SET lastNumber = 0;\nUPDATE project_number_sequence SET lastNumber = 0;\nUPDATE request_number_sequence SET lastNumber = 0;\n\nSELECT id, name, email, role FROM users;\n",
  "returncode": 1,
  "logs": [
    "ERROR 1451 (23000) at line 8: Cannot delete or update a parent row: a foreign key constraint fails (`6tun3hpsk4hj6fxv2ar83j`.`organization_settings`, CONSTRAINT `organization_settings_updatedBy_users_id_fk` FOREIGN KEY (`updatedBy`) REFERENCES `users` (`id`) ON DELETE NO ACTION ON UPDATE NO )"
  ]
}