{
  "query": "-- إسناد دور \"مكتب المشاريع\" لأحمد محمد\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'أحمد محمد' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'projects_office' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'أحمد محمد' LIMIT 1)\n  AND roleId = 'projects_office'\n);\n\n-- إسناد دور \"فريق ميداني\" لخالد عبدالله\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'خالد عبدالله' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'field_team' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'خالد عبدالله' LIMIT 1)\n  AND roleId = 'field_team'\n);\n\n-- إسناد دور \"مالية\" لفاطمة أحمد\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'فاطمة أحمد' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'financial' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'فاطمة أحمد' LIMIT 1)\n  AND roleId = 'financial'\n);\n\n-- إسناد دور \"طالب خدمة\" لمحمد سعيد\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'محمد سعيد' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'service_requester' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'محمد سعيد' LIMIT 1)\n  AND roleId = 'service_requester'\n);\n\n-- عرض النتائج\nSELECT \n  u.name AS user_name,\n  r.nameAr AS role_name,\n  ur.assignedAt\nFROM user_roles ur\nJOIN users u ON ur.userId = u.id\nJOIN roles r ON ur.roleId = r.id\nWHERE u.name IN ('أحمد محمد', 'خالد عبدالله', 'فاطمة أحمد', 'محمد سعيد')\nORDER BY ur.assignedAt DESC;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 47svcMedBpAqYJW.4862cbe35d00 --database 6TUn3HPSK4hJ6Fxv2aR83j --execute -- إسناد دور \"مكتب المشاريع\" لأحمد محمد\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'أحمد محمد' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'projects_office' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'أحمد محمد' LIMIT 1)\n  AND roleId = 'projects_office'\n);\n\n-- إسناد دور \"فريق ميداني\" لخالد عبدالله\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'خالد عبدالله' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'field_team' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'خالد عبدالله' LIMIT 1)\n  AND roleId = 'field_team'\n);\n\n-- إسناد دور \"مالية\" لفاطمة أحمد\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'فاطمة أحمد' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'financial' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'فاطمة أحمد' LIMIT 1)\n  AND roleId = 'financial'\n);\n\n-- إسناد دور \"طالب خدمة\" لمحمد سعيد\nINSERT INTO user_roles (userId, roleId, assignedBy, assignedAt)\nSELECT \n  (SELECT id FROM users WHERE name = 'محمد سعيد' LIMIT 1),\n  (SELECT id FROM roles WHERE id = 'service_requester' LIMIT 1),\n  1,\n  NOW()\nWHERE NOT EXISTS (\n  SELECT 1 FROM user_roles \n  WHERE userId = (SELECT id FROM users WHERE name = 'محمد سعيد' LIMIT 1)\n  AND roleId = 'service_requester'\n);\n\n-- عرض النتائج\nSELECT \n  u.name AS user_name,\n  r.nameAr AS role_name,\n  ur.assignedAt\nFROM user_roles ur\nJOIN users u ON ur.userId = u.id\nJOIN roles r ON ur.roleId = r.id\nWHERE u.name IN ('أحمد محمد', 'خالد عبدالله', 'فاطمة أحمد', 'محمد سعيد')\nORDER BY ur.assignedAt DESC;",
  "returncode": 1,
  "logs": [
    "ERROR 1054 (42S22) at line 2: Unknown column 'userId' in 'field list'"
  ]
}